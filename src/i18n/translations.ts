export type Locale = 'en' | 'ko'

const en = {
  // ── Common ────────────────────────────────────────────────
  'common.cancel': 'Cancel',
  'common.save': 'Save Changes',
  'common.delete': 'Delete',
  'common.add': 'Add',
  'common.edit': 'Edit',
  'common.close': 'Close',
  'common.done': 'Done',
  'common.reset': 'Reset',
  'common.time': 'Time',
  'common.noData': '—',

  // ── Header ────────────────────────────────────────────────
  'header.toggleSidebar': 'Toggle sidebar',
  'header.toggleTheme': 'Toggle theme',

  // ── Sidebar ───────────────────────────────────────────────
  'sidebar.logs': 'Logs',
  'sidebar.settings': 'Settings',
  'sidebar.sources': 'Sources',
  'sidebar.selectAll': 'Select all',
  'sidebar.deselectAll': 'Deselect all',
  'sidebar.noSources': 'No sources yet.',
  'sidebar.addOne': 'Add one',

  // ── Refresh ───────────────────────────────────────────────
  'refresh.refresh': 'Refresh',
  'refresh.autoRefresh': 'Auto refresh',
  'refresh.off': 'Off',
  'refresh.1s': '1s',
  'refresh.5s': '5s',
  'refresh.10s': '10s',
  'refresh.30s': '30s',
  'refresh.60s': '60s',

  // ── Filters ───────────────────────────────────────────────
  'filters.allApps': 'All apps',
  'filters.urlPlaceholder': 'Filter by URL path… (supports % wildcard)',
  'filters.allMethods': 'All methods',
  'filters.statusAll': 'All',
  'filters.advanced': 'Filters',
  'filters.reset': 'Reset',
  'filters.exactStatus': 'Exact Status Code',
  'filters.exactStatusPlaceholder': 'e.g. 200, 404',
  'filters.minDuration': 'Min Duration (ms)',
  'filters.startTime': 'Start Time',
  'filters.endTime': 'End Time',
  'filters.startTimePlaceholder': 'Start date & time',
  'filters.endTimePlaceholder': 'End date & time',
  'filters.remoteIp': 'Remote IP',
  'filters.remoteIpPlaceholder': 'e.g. 192.168.1.',
  'filters.serverName': 'Server Name',
  'filters.serverNamePlaceholder': 'e.g. localhost',

  // ── Table ─────────────────────────────────────────────────
  'table.colSource': 'Source',
  'table.colTime': 'Time',
  'table.colApp': 'App',
  'table.colMethod': 'Method',
  'table.colStatus': 'Status',
  'table.colUrl': 'URL',
  'table.colDuration': 'Duration',
  'table.colRemoteIp': 'Remote IP',
  'table.empty': 'No log entries found',
  'table.rowsPerPage': 'Rows per page:',
  'table.results': (from: number, to: number, total: string) => `${from}–${to} of ${total}`,
  'table.noResults': '0 results',

  // ── Detail ────────────────────────────────────────────────
  'detail.appName': 'App Name',
  'detail.requestTime': 'Request Time',
  'detail.processingTime': 'Processing Time',
  'detail.remoteAddr': 'Remote Address',
  'detail.server': 'Server',
  'detail.queryParams': 'Query Parameters',
  'detail.requestHeaders': 'Request Headers',
  'detail.responseInfo': 'Response Info',
  'detail.requestBody': 'Request Body',
  'detail.responseBody': 'Response Body',

  // ── Stats ─────────────────────────────────────────────────
  'stats.total': 'Total',
  'stats.errors': 'Errors',
  'stats.avg': 'Avg',
  'stats.p99': 'p99',
  'stats.top': 'Top',

  // ── DateTimeInput ─────────────────────────────────────────
  'datetime.time': 'Time',
  'datetime.done': 'Done',
  'datetime.placeholder': 'Pick date & time',

  // ── Source Form ───────────────────────────────────────────
  'sourceForm.sourceType': 'Source Type',
  'sourceForm.sourceName': 'Source Name',
  'sourceForm.sourceNamePlaceholder': 'e.g. Production API, My App',
  'sourceForm.testConnection': 'Test Connection',
  'sourceForm.testing': 'Testing…',
  'sourceForm.connectedOk': 'Connected successfully',
  'sourceForm.addSource': 'Add Source',
  'sourceForm.saveChanges': 'Save Changes',

  'sourceForm.type.api.label': 'Application DB',
  'sourceForm.type.api.desc': 'Query logs stored in the application database via library-defined REST API endpoints.',
  'sourceForm.type.file.label': 'Local File',
  'sourceForm.type.file.desc': 'Connect to a Spring Boot app that stores logs as local files. The app reads the files and returns them via API.',
  'sourceForm.type.supabase.label': 'Supabase DB',
  'sourceForm.type.supabase.desc': 'Query the api_logs table directly via @supabase/supabase-js.',
  'sourceForm.type.supabaseS3.label': 'Supabase Storage (S3)',
  'sourceForm.type.supabaseS3.desc': 'Download JSONL/CSV log files from a Supabase Storage bucket.',

  'sourceForm.field.supabaseUrl': 'Supabase Project URL',
  'sourceForm.field.anonKey': 'Anon / Service Role Key',
  'sourceForm.field.serviceRoleKey': 'Service Role Key',
  'sourceForm.field.serviceRoleKeyHint': 'The service role key is recommended for Supabase Storage access.',
  'sourceForm.field.tableName': 'Table Name',
  'sourceForm.field.bucket': 'Bucket',
  'sourceForm.field.keyPrefix': 'Key Prefix',
  'sourceForm.field.fileFormat': 'File Format',
  'sourceForm.field.maxFiles': 'Max Recent Files to Load',
  'sourceForm.field.maxFilesHint': 'Loads the N most recent files. Increase to see older logs.',
  'sourceForm.field.logDirectory': 'Log Directory',
  'sourceForm.field.logDirectoryPlaceholder': 'e.g. logs/',
  'sourceForm.field.logDirectoryHint': 'Directory where the Spring Boot app writes log files. Leave empty to use the standard query API instead.',
  'sourceForm.field.baseUrl': 'Base URL',
  'sourceForm.field.basePath': 'Base Path',
  'sourceForm.field.apiKey': 'API Key',
  'sourceForm.field.apiKeyOptional': '(optional)',
  'sourceForm.field.apiKeyPlaceholder': 'Sent as X-Api-Key header',
  'sourceForm.endpointHint': (baseUrl: string, basePath: string) =>
    `Endpoints: ${baseUrl || '<baseUrl>'}${basePath || '/apilog'}/logs · Set apilog.view.base-path in your Spring Boot app to match.`,

  // ── Source Card ───────────────────────────────────────────
  'sourceCard.disabled': 'Disabled',
  'sourceCard.disableSource': 'Disable source',
  'sourceCard.enableSource': 'Enable source',
  'sourceCard.deleteConfirm': (name: string) => `Delete "${name}"? This action cannot be undone.`,
  'sourceCard.type.supabase': 'Supabase DB',
  'sourceCard.type.supabaseS3': 'Supabase Storage',
  'sourceCard.type.api': 'Application DB',
  'sourceCard.type.file': 'Local File',

  // ── Settings Page ─────────────────────────────────────────
  'settings.title': 'Settings',
  'settings.description': 'Manage log sources. Each source can represent a separate application.',
  'settings.import': 'Import',
  'settings.export': 'Export',
  'settings.addSource': 'Add Source',
  'settings.addNewSource': 'Add New Source',
  'settings.noSources': 'No sources configured yet. Add one to get started.',
  'settings.addFirstSource': 'Add Your First Source',
  'settings.noSourcesExport': 'No sources to export',
  'settings.apiRef.title': 'API Source — Required Endpoints',
  'settings.apiRef.description': 'When using an API source, your Spring Boot application must implement the following endpoints (add the apilog-viewer module or implement them manually):',
  'settings.apiRef.viewDocs': 'View apilog library documentation',

  'settings.import.title': 'Import Sources',
  'settings.import.totalInFile': 'Total in file',
  'settings.import.newSources': 'New (not in current list)',
  'settings.import.duplicates': 'Duplicates (same ID)',
  'settings.import.mode': 'Import mode',
  'settings.import.merge': 'Merge',
  'settings.import.mergeDesc': 'Add new sources, skip duplicates. Current sources are preserved.',
  'settings.import.replaceAll': 'Replace all',
  'settings.import.replaceAllDesc': 'Remove all current sources and load only the imported ones.',
  'settings.import.replaceWarning': (count: number) => `All ${count} existing source${count !== 1 ? 's' : ''} will be removed.`,
  'settings.import.addN': (n: number) => `Add ${n} source${n !== 1 ? 's' : ''}`,
  'settings.import.errorFormat': 'Invalid format: expected a JSON array or { sources: [] }',
  'settings.import.errorEmpty': 'File contains no sources',
  'settings.import.errorEntry': 'Invalid source entry: missing id, name, or type',
  'settings.import.errorParse': 'Failed to parse file',
} as const

const ko: typeof en = {
  // ── Common ────────────────────────────────────────────────
  'common.cancel': '취소',
  'common.save': '저장',
  'common.delete': '삭제',
  'common.add': '추가',
  'common.edit': '편집',
  'common.close': '닫기',
  'common.done': '완료',
  'common.reset': '초기화',
  'common.time': '시간',
  'common.noData': '—',

  // ── Header ────────────────────────────────────────────────
  'header.toggleSidebar': '사이드바 열기/닫기',
  'header.toggleTheme': '테마 전환',

  // ── Sidebar ───────────────────────────────────────────────
  'sidebar.logs': '로그',
  'sidebar.settings': '설정',
  'sidebar.sources': '소스',
  'sidebar.selectAll': '전체 선택',
  'sidebar.deselectAll': '전체 해제',
  'sidebar.noSources': '소스가 없습니다.',
  'sidebar.addOne': '추가하기',

  // ── Refresh ───────────────────────────────────────────────
  'refresh.refresh': '새로고침',
  'refresh.autoRefresh': '자동 새로고침',
  'refresh.off': '설정 안함',
  'refresh.1s': '1초',
  'refresh.5s': '5초',
  'refresh.10s': '10초',
  'refresh.30s': '30초',
  'refresh.60s': '60초',

  // ── Filters ───────────────────────────────────────────────
  'filters.allApps': '전체 앱',
  'filters.urlPlaceholder': 'URL 경로 필터… (% 와일드카드 지원)',
  'filters.allMethods': '전체 메서드',
  'filters.statusAll': '전체',
  'filters.advanced': '필터',
  'filters.reset': '초기화',
  'filters.exactStatus': '정확한 상태 코드',
  'filters.exactStatusPlaceholder': '예: 200, 404',
  'filters.minDuration': '최소 응답 시간 (ms)',
  'filters.startTime': '시작 시간',
  'filters.endTime': '종료 시간',
  'filters.startTimePlaceholder': '시작 날짜 및 시간',
  'filters.endTimePlaceholder': '종료 날짜 및 시간',
  'filters.remoteIp': '원격 IP',
  'filters.remoteIpPlaceholder': '예: 192.168.1.',
  'filters.serverName': '서버 이름',
  'filters.serverNamePlaceholder': '예: localhost',

  // ── Table ─────────────────────────────────────────────────
  'table.colSource': '소스',
  'table.colTime': '시간',
  'table.colApp': '앱',
  'table.colMethod': '메서드',
  'table.colStatus': '상태',
  'table.colUrl': 'URL',
  'table.colDuration': '응답시간',
  'table.colRemoteIp': '원격 IP',
  'table.empty': '로그가 없습니다',
  'table.rowsPerPage': '페이지 행 수:',
  'table.results': (from: number, to: number, total: string) => `${total}개 중 ${from}–${to}`,
  'table.noResults': '결과 없음',

  // ── Detail ────────────────────────────────────────────────
  'detail.appName': '앱 이름',
  'detail.requestTime': '요청 시간',
  'detail.processingTime': '처리 시간',
  'detail.remoteAddr': '원격 주소',
  'detail.server': '서버',
  'detail.queryParams': '쿼리 파라미터',
  'detail.requestHeaders': '요청 헤더',
  'detail.responseInfo': '응답 정보',
  'detail.requestBody': '요청 바디',
  'detail.responseBody': '응답 바디',

  // ── Stats ─────────────────────────────────────────────────
  'stats.total': '전체',
  'stats.errors': '오류율',
  'stats.avg': '평균',
  'stats.p99': 'P99',
  'stats.top': '최다',

  // ── DateTimeInput ─────────────────────────────────────────
  'datetime.time': '시간',
  'datetime.done': '완료',
  'datetime.placeholder': '날짜 및 시간 선택',

  // ── Source Form ───────────────────────────────────────────
  'sourceForm.sourceType': '소스 타입',
  'sourceForm.sourceName': '소스 이름',
  'sourceForm.sourceNamePlaceholder': '예: 프로덕션 API, 내 앱',
  'sourceForm.testConnection': '연결 테스트',
  'sourceForm.testing': '테스트 중…',
  'sourceForm.connectedOk': '연결 성공',
  'sourceForm.addSource': '소스 추가',
  'sourceForm.saveChanges': '저장',

  'sourceForm.type.api.label': 'Application DB',
  'sourceForm.type.api.desc': '라이브러리에서 정의한 REST API 엔드포인트를 통해 애플리케이션 DB에 저장된 로그를 조회합니다.',
  'sourceForm.type.file.label': '로컬 파일',
  'sourceForm.type.file.desc': '로컬 파일에 로그를 저장하는 Spring Boot 앱에 연결합니다. 앱이 파일을 읽어 API로 전송합니다.',
  'sourceForm.type.supabase.label': 'Supabase DB',
  'sourceForm.type.supabase.desc': '@supabase/supabase-js를 통해 api_logs 테이블을 직접 조회합니다.',
  'sourceForm.type.supabaseS3.label': 'Supabase Storage (S3)',
  'sourceForm.type.supabaseS3.desc': 'Supabase Storage 버킷에서 JSONL/CSV 로그 파일을 다운로드합니다.',

  'sourceForm.field.supabaseUrl': 'Supabase 프로젝트 URL',
  'sourceForm.field.anonKey': 'Anon / Service Role 키',
  'sourceForm.field.serviceRoleKey': 'Service Role 키',
  'sourceForm.field.serviceRoleKeyHint': 'Supabase Storage 접근에는 Service Role 키를 권장합니다.',
  'sourceForm.field.tableName': '테이블 이름',
  'sourceForm.field.bucket': '버킷',
  'sourceForm.field.keyPrefix': '키 프리픽스',
  'sourceForm.field.fileFormat': '파일 형식',
  'sourceForm.field.maxFiles': '최대 최근 파일 수',
  'sourceForm.field.maxFilesHint': '가장 최근 N개 파일을 불러옵니다. 오래된 로그를 보려면 늘리세요.',
  'sourceForm.field.logDirectory': '로그 디렉토리',
  'sourceForm.field.logDirectoryPlaceholder': '예: logs/',
  'sourceForm.field.logDirectoryHint': 'Spring Boot 앱이 로그 파일을 저장하는 디렉토리입니다. 비워두면 표준 쿼리 API를 사용합니다.',
  'sourceForm.field.baseUrl': '기본 URL',
  'sourceForm.field.basePath': '기본 경로',
  'sourceForm.field.apiKey': 'API 키',
  'sourceForm.field.apiKeyOptional': '(선택)',
  'sourceForm.field.apiKeyPlaceholder': 'X-Api-Key 헤더로 전송됩니다',
  'sourceForm.endpointHint': (baseUrl: string, basePath: string) =>
    `엔드포인트: ${baseUrl || '<baseUrl>'}${basePath || '/apilog'}/logs · Spring Boot 앱의 apilog.view.base-path와 일치해야 합니다.`,

  // ── Source Card ───────────────────────────────────────────
  'sourceCard.disabled': '비활성',
  'sourceCard.disableSource': '소스 비활성화',
  'sourceCard.enableSource': '소스 활성화',
  'sourceCard.deleteConfirm': (name: string) => `"${name}" 소스를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`,
  'sourceCard.type.supabase': 'Supabase DB',
  'sourceCard.type.supabaseS3': 'Supabase Storage',
  'sourceCard.type.api': 'Application DB',
  'sourceCard.type.file': '로컬 파일',

  // ── Settings Page ─────────────────────────────────────────
  'settings.title': '설정',
  'settings.description': '로그 소스를 관리합니다. 각 소스는 별도의 애플리케이션을 나타낼 수 있습니다.',
  'settings.import': '가져오기',
  'settings.export': '내보내기',
  'settings.addSource': '소스 추가',
  'settings.addNewSource': '새 소스 추가',
  'settings.noSources': '아직 설정된 소스가 없습니다. 소스를 추가해 주세요.',
  'settings.addFirstSource': '첫 소스 추가',
  'settings.noSourcesExport': '내보낼 소스가 없습니다',
  'settings.apiRef.title': 'API 소스 — 필수 엔드포인트',
  'settings.apiRef.description': 'API 소스를 사용할 때, Spring Boot 애플리케이션에 다음 엔드포인트가 구현되어 있어야 합니다 (apilog-viewer 모듈 추가 또는 직접 구현):',
  'settings.apiRef.viewDocs': 'apilog 라이브러리 문서 보기',

  'settings.import.title': '소스 가져오기',
  'settings.import.totalInFile': '파일 내 총 소스',
  'settings.import.newSources': '새 소스 (현재 목록에 없는)',
  'settings.import.duplicates': '중복 (동일 ID)',
  'settings.import.mode': '가져오기 방식',
  'settings.import.merge': '병합',
  'settings.import.mergeDesc': '새 소스를 추가하고 중복은 건너뜁니다. 기존 소스는 유지됩니다.',
  'settings.import.replaceAll': '전체 교체',
  'settings.import.replaceAllDesc': '기존 소스를 모두 삭제하고 가져온 소스로 교체합니다.',
  'settings.import.replaceWarning': (count: number) => `기존 소스 ${count}개가 모두 삭제됩니다.`,
  'settings.import.addN': (n: number) => `소스 ${n}개 추가`,
  'settings.import.errorFormat': '형식 오류: JSON 배열 또는 { sources: [] } 형태여야 합니다',
  'settings.import.errorEmpty': '파일에 소스가 없습니다',
  'settings.import.errorEntry': '잘못된 소스 항목: id, name, type이 필요합니다',
  'settings.import.errorParse': '파일 파싱에 실패했습니다',
}

export const translations: Record<Locale, typeof en> = { en, ko }
